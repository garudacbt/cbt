<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\x45\120\x41\124\x48") or exit("\116\157\x20\144\x69\162\x65\143\x74\40\163\x63\x72\151\160\x74\40\x61\143\143\x65\x73\163\x20\x61\154\154\157\x77\145\144"); class Datajurusan extends CI_Controller { public function __construct() { goto tNsyI; OmBFc: if (!$this->ion_auth->logged_in()) { goto bZSyO; } goto AK03C; DLeM5: redirect("\x61\165\164\150"); goto EDJZH; k_24r: QMP6M: goto XIie_; tNsyI: parent::__construct(); goto OmBFc; jGsu1: $this->load->library(["\144\x61\x74\141\x74\141\142\154\x65\x73", "\146\157\162\155\x5f\x76\141\x6c\151\x64\x61\164\151\157\x6e"]); goto mD5vd; gn52q: $this->form_validation->set_error_delimiters('', ''); goto Aa0w8; hF3eO: bZSyO: goto DLeM5; XIie_: goto eHcDm; goto hF3eO; zBsOV: $this->load->model("\x44\x61\163\x68\x62\x6f\141\x72\144\x5f\x6d\x6f\x64\x65\154", "\144\141\x73\x68\142\x6f\141\162\x64"); goto lCYfW; v9pNm: show_error("\x48\x61\x6e\x79\x61\40\101\x64\155\x69\156\151\163\164\x72\141\x74\x6f\x72\40\x79\x61\x6e\147\x20\144\x69\x62\x65\x72\x69\x20\x68\141\153\40\x75\x6e\164\165\153\40\x6d\145\x6e\x67\x61\153\x73\x65\x73\x20\150\141\154\141\x6d\141\x6e\x20\151\x6e\x69\x2c\40\74\141\40\150\x72\x65\146\75\x22" . base_url("\144\141\x73\150\x62\x6f\x61\x72\144") . "\x22\76\113\145\155\142\141\x6c\x69\x20\x6b\145\40\x6d\145\156\x75\x20\141\x77\141\154\x3c\x2f\141\x3e", 403, "\101\153\163\145\163\x20\124\x65\162\154\141\162\141\156\x67"); goto k_24r; AK03C: if ($this->ion_auth->is_admin()) { goto QMP6M; } goto v9pNm; mD5vd: $this->load->model("\115\x61\x73\164\145\x72\137\x6d\x6f\144\x65\x6c", "\155\141\x73\164\145\162"); goto zBsOV; lCYfW: $this->load->model("\104\162\x6f\x70\x64\157\167\156\x5f\x6d\157\x64\x65\x6c", "\x64\x72\x6f\x70\144\157\167\156"); goto gn52q; EDJZH: eHcDm: goto jGsu1; Aa0w8: } public function output_json($data, $encode = true) { goto K7yhI; K7yhI: if (!$encode) { goto XwJOJ; } goto VjnfG; VjnfG: $data = json_encode($data); goto lZllr; lZllr: XwJOJ: goto j0zTJ; j0zTJ: $this->output->set_content_type("\x61\160\160\x6c\151\143\x61\164\151\x6f\x6e\x2f\x6a\163\x6f\156")->set_output($data); goto I7R4i; I7R4i: } public function index() { goto fvQ0p; BBD0C: $arr_kode = []; goto SAtnA; Zs01k: $jurusans = $this->master->getDataJurusan(); goto rqAwG; oeTFp: $data["\x6a\165\x72\165\x73\141\x6e\x73"] = $jurusans; goto a1M87; E5K3T: $data["\x6d\x61\x70\x65\x6c\137\x70\145\x6d\x69\156\x61\164\141\x6e"] = $this->dropdown->getMapelPeminatan($arr_kode); goto Zs01k; uBfup: $data["\163\155\x74\x5f\x61\143\x74\x69\x76\145"] = $this->dashboard->getSemesterActive(); goto TUl6V; SAtnA: foreach ($kode_peminatan as $kode) { $arr_kode[] = $kode->kode_kel_mapel; Up4o_: } goto Xvjuj; Ho_zn: $data = ["\x75\163\x65\162" => $user, "\152\x75\x64\165\154" => "\x4a\x75\x72\165\163\141\156", "\x73\x75\142\x6a\165\x64\x75\154" => "\104\x61\x66\164\141\x72\x20\x4a\x75\x72\x75\x73\x61\x6e", "\160\162\x6f\146\151\154\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\x74\x74\151\156\147" => $this->dashboard->getSetting()]; goto WOI_I; V1qR1: foreach ($jurusans as $jurusan) { $jurusan_mapels[$jurusan->id_jurusan] = $this->master->getDataJurusanMapel(explode("\54", $jurusan->mapel_peminatan ?? '')); oCJcu: } goto p8fXY; eEcap: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto uBfup; fvQ0p: $user = $this->ion_auth->user()->row(); goto Ho_zn; a1M87: $data["\152\165\162\165\x73\141\156\137\x6d\x61\x70\x65\x6c\163"] = $jurusan_mapels; goto s9nSK; dCV7T: $this->load->view("\137\x74\x65\x6d\160\154\x61\164\145\x73\x2f\x64\141\x73\x68\x62\x6f\x61\162\144\x2f\137\146\157\157\x74\x65\x72"); goto c3sNp; rqAwG: $jurusan_mapels = []; goto V1qR1; gq2IG: $data["\164\x70\137\x61\x63\x74\151\x76\145"] = $this->dashboard->getTahunActive(); goto eEcap; p8fXY: S0Acj: goto oeTFp; WOI_I: $data["\x74\x70"] = $this->dashboard->getTahun(); goto gq2IG; qpRVZ: $this->load->view("\155\141\163\164\x65\162\57\x6a\x75\162\x75\x73\141\156\57\x64\x61\x74\x61"); goto dCV7T; s9nSK: $this->load->view("\x5f\164\145\155\x70\154\141\164\145\163\x2f\144\141\x73\x68\142\157\141\x72\144\x2f\x5f\150\145\x61\144\145\162", $data); goto qpRVZ; Xvjuj: r6biS: goto E5K3T; TUl6V: $kode_peminatan = $this->dropdown->getAllKodePeminatan(); goto b4Y6D; b4Y6D: $data["\153\x6f\x64\145\x5f\x70\x65\x6d\151\156\141\164\x61\x6e"] = $kode_peminatan; goto BBD0C; c3sNp: } public function add() { goto uO1J7; GpcD2: qrUXM: goto RMOrk; RMOrk: $i++; goto AeQgG; t8gYB: array_push($mapels, $this->input->post("\155\x61\160\x65\x6c\133" . $i . "\135", true)); goto GpcD2; xWobN: vKsRX: goto EA142; uO1J7: $mapels = []; goto MH7A9; faV9B: $this->master->create("\155\141\163\164\x65\162\137\152\165\162\x75\x73\141\156", $insert, false); goto nyD66; kph2x: if (!$check_mapel) { goto GE2qS; } goto UwZ3X; MH7A9: $check_mapel = $this->input->post("\155\x61\160\x65\x6c", true); goto kph2x; Qi2Nh: xh3om: goto tVR_N; q0A5M: $insert = ["\x6e\x61\x6d\141\137\x6a\x75\x72\x75\163\x61\156" => $this->input->post("\x6e\141\x6d\141\x5f\x6a\x75\x72\x75\x73\141\156", true), "\153\x6f\144\145\137\x6a\x75\162\x75\163\x61\156" => $this->input->post("\x6b\157\x64\145\137\152\165\162\165\163\x61\x6e", true), "\155\141\x70\x65\154\x5f\x70\145\x6d\x69\156\x61\x74\141\156" => implode("\54", $mapels)]; goto faV9B; UwZ3X: $row_mapels = count($this->input->post("\x6d\141\x70\145\154", true)); goto L3ZxZ; nyD66: $data["\x73\x74\141\164\x75\163"] = $insert; goto UOuAd; tVR_N: if (!($i <= $row_mapels)) { goto vKsRX; } goto t8gYB; UOuAd: $this->output_json($data); goto ajnvi; L3ZxZ: $i = 0; goto Qi2Nh; EA142: GE2qS: goto q0A5M; AeQgG: goto xh3om; goto xWobN; ajnvi: } public function data() { $this->output_json($this->master->getDataTableJurusan(), false); } public function save() { goto Ut80R; AcZ0F: $data["\x69\x6e\163\x65\x72\164"] = $insert; goto XKwM2; cjDOy: v1k0a: goto acT36; cG0mK: $status = FALSE; goto qOZsl; oUPX3: $this->form_validation->set_rules($nama_jurusan, "\x4a\165\162\165\163\141\156", "\x72\145\x71\x75\x69\162\x65\144"); goto AwTrz; izY4E: $nama_jurusan = "\156\x61\155\x61\137\x6a\x75\x72\165\163\x61\x6e\x5b" . $i . "\x5d"; goto oUPX3; yW35l: Fp8DP: goto bHTyv; XKwM2: DBlGO: goto uIeXN; FlgY7: eJgtm: goto IpFWX; WwDkj: $i = 1; goto noRGm; NCx58: BaLqT: goto iV6Mq; AwTrz: $this->form_validation->set_message("\x72\x65\161\165\151\162\x65\x64", "\x7b\x66\151\x65\154\144\175\x20\x57\141\152\151\x62\x20\x64\x69\151\x73\x69"); goto UBv45; Cgb7G: $data["\163\164\x61\164\x75\x73"] = $status; goto jiNsM; Ni6Q7: Xd0yw: goto TSS4l; iL7Mr: gEXB3: goto bvJm2; R2z6k: qSh91: goto gUfId; U8oxU: if ($mode == "\141\144\144") { goto BaLqT; } goto kRAxy; UBv45: if ($this->form_validation->run() === FALSE) { goto T0NaL; } goto sB10w; IpFWX: $i++; goto FTeY6; uvayw: if (!($mode == "\145\x64\x69\x74")) { goto qSh91; } goto pSkIf; YkyDK: if (!($i <= $rows)) { goto Fp8DP; } goto izY4E; iV6Mq: $this->master->create("\x6d\x61\163\164\x65\x72\137\152\165\x72\x75\x73\x61\x6e", $insert, true); goto AcZ0F; aD1iI: $data["\145\162\162\157\162\163"] = $error; goto L1shn; noRGm: rEj5p: goto YkyDK; T9qjD: $this->master->update("\155\141\163\164\x65\x72\137\x6a\x75\162\x75\163\x61\x6e", $update, "\151\x64\137\x6a\165\162\x75\163\141\x6e", null, true); goto leXFe; mEtR7: goto GtiPy; goto sKQsJ; FTeY6: goto rEj5p; goto yW35l; sKQsJ: T0NaL: goto lERxu; bHTyv: if ($status) { goto dl12Q; } goto RqcW0; uIeXN: pThgz: goto Cgb7G; sB10w: if ($mode == "\141\144\x64") { goto Xd0yw; } goto uvayw; acT36: goto DBlGO; goto NCx58; jiNsM: $this->output_json($data); goto iARw0; pSkIf: $update[] = array("\x69\x64\x5f\152\165\x72\x75\163\x61\156" => $this->input->post("\151\x64\137\152\x75\162\x75\163\x61\156\x5b" . $i . "\x5d", true), "\156\x61\155\x61\x5f\152\165\x72\x75\163\141\156" => $this->input->post($nama_jurusan, true)); goto R2z6k; qOZsl: GtiPy: goto FlgY7; L1shn: UYVil: goto nOnDm; lERxu: $error[] = [$nama_jurusan => form_error($nama_jurusan)]; goto cG0mK; gUfId: goto gEXB3; goto Ni6Q7; bvJm2: $status = TRUE; goto mEtR7; TSS4l: $insert[] = ["\156\141\x6d\141\137\152\x75\x72\x75\163\141\x6e" => $this->input->post($nama_jurusan, true)]; goto iL7Mr; leXFe: $data["\x75\160\144\141\x74\145"] = $update; goto cjDOy; kRAxy: if (!($mode == "\145\x64\151\164")) { goto v1k0a; } goto T9qjD; lLdkb: dl12Q: goto U8oxU; RqcW0: if (!isset($error)) { goto UYVil; } goto aD1iI; Ut80R: $rows = count($this->input->post("\x6e\x61\155\x61\x5f\x6a\x75\162\165\163\x61\156", true)); goto jZWyL; nOnDm: goto pThgz; goto lLdkb; jZWyL: $mode = $this->input->post("\x6d\x6f\x64\145", true); goto WwDkj; iARw0: } public function update() { $data = $this->master->updateJurusan(); $this->output->set_content_type("\141\160\x70\x6c\x69\143\141\x74\151\157\156\x2f\152\x73\157\x6e")->set_output($data); } public function delete() { goto YnFGN; eww5c: xaxhk: goto Tfe0H; tOZNG: Y5D41: goto VtlN0; YnFGN: $chk = $this->input->post("\143\150\145\x63\x6b\145\144", true); goto AQMTr; DXNXI: $this->output_json(["\163\x74\141\164\165\x73" => true, "\x74\x6f\x74\141\154" => count($chk)]); goto hhmBl; YtzFH: MGgM4: goto egYyg; xgwqc: foreach ($tables as $table) { goto Ry1VY; KdkSR: $num = $this->db->count_all_results($table); goto DF297; enT4W: goto WYRsa; goto heQ1M; Ry1VY: if (!($table != "\x6d\141\x73\164\x65\x72\137\x6a\165\x72\x75\x73\x61\x6e")) { goto vc4k8; } goto YLhTr; s8058: if (!($num > 0)) { goto GgJ0d; } goto VZV3G; DF297: WYRsa: goto s8058; heQ1M: vH7XW: goto n2rnx; VZV3G: array_push($messages, $table); goto W4dZP; bcqhU: l_2fN: goto GY2UW; YLhTr: if ($table == "\155\x61\x73\x74\x65\x72\x5f\x6b\x65\x6c\x61\163") { goto vH7XW; } goto xVzqx; n2rnx: $this->db->where_in("\152\165\162\165\163\x61\x6e\x5f\x69\x64", $chk); goto KdkSR; WgPUu: $num = $this->db->count_all_results($table); goto enT4W; xVzqx: $this->db->where_in("\151\144\137\152\x75\162\165\x73\x61\156", $chk); goto WgPUu; wElRC: vc4k8: goto bcqhU; W4dZP: GgJ0d: goto wElRC; GY2UW: } goto YtzFH; v7Ald: $messages = []; goto sQV8r; hhmBl: crr1f: goto KpS0P; AQMTr: if (!$chk) { goto buabW; } goto v7Ald; uPlve: buabW: goto mtshc; sQV8r: $tables = []; goto DC_2D; QK1uK: oFO_3: goto p_nVE; HjaW_: Hlg3a: goto xgwqc; egYyg: if (count($messages) > 0) { goto Y5D41; } goto Y90p0; o84Ge: foreach ($tabless as $table) { goto PW5Z4; PW5Z4: $fields = $this->db->field_data($table); goto h8jJZ; kOxW7: Z9rku: goto fpuFC; h8jJZ: foreach ($fields as $field) { goto JOEnx; JOEnx: if (!($field->name == "\x69\x64\137\x6a\165\162\x75\163\x61\156" || $field->name == "\x6a\x75\162\165\x73\141\156\x5f\151\x64")) { goto JV9mD; } goto H_EXP; UvMPY: STgrQ: goto oxqJi; VCblo: JV9mD: goto UvMPY; H_EXP: array_push($tables, $table); goto VCblo; oxqJi: } goto kOxW7; fpuFC: tefqa: goto jIv8L; jIv8L: } goto HjaW_; KpS0P: goto xaxhk; goto tOZNG; VtlN0: $this->output_json(["\x73\164\141\x74\x75\163" => false, "\x74\x6f\x74\141\154" => "\104\141\164\141\40\x4a\165\162\x75\x73\x61\156\x20\x64\x69\x67\x75\x6e\141\153\x61\156\40\x64\x69\40" . count($messages) . "\40\x74\x61\x62\145\154\x3a\x3c\x62\162\76" . implode("\74\x62\162\76", $messages)]); goto eww5c; Tfe0H: goto oFO_3; goto uPlve; DC_2D: $tabless = $this->db->list_tables(); goto o84Ge; mtshc: $this->output_json(["\x73\x74\x61\x74\165\163" => false, "\164\157\164\141\x6c" => "\124\x69\x64\141\x6b\40\141\144\x61\x20\x64\x61\164\x61\x20\171\x61\x6e\147\x20\x64\x69\160\151\x6c\x69\150\41"]); goto QK1uK; Y90p0: if (!$this->master->delete("\x6d\141\163\164\x65\x72\x5f\x6a\165\162\165\x73\141\156", $chk, "\151\x64\137\152\x75\x72\165\x73\x61\x6e")) { goto crr1f; } goto DXNXI; p_nVE: } public function load_jurusan() { $data = $this->master->getJurusan(); $this->output_json($data); } public function import($import_data = null) { goto pCJDL; cDP1s: ovWy2: goto hdrB9; gNsmU: $data = ["\x75\163\145\x72" => $user, "\152\165\x64\x75\154" => "\111\155\160\x6f\x72\x74\40\x4a\x75\162\x75\163\141\156", "\163\165\142\x6a\165\144\165\154" => "\x49\155\x70\x6f\162\x74\40\x4a\x75\x72\165\163\x61\x6e", "\160\x72\x6f\146\151\154\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\164\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto h5hgA; drkeX: $this->load->view("\x5f\164\x65\x6d\x70\x6c\x61\164\x65\x73\57\x64\x61\x73\x68\x62\x6f\x61\x72\x64\57\x5f\150\145\141\x64\x65\x72", $data); goto Phjur; h5hgA: if (!($import_data != null)) { goto ovWy2; } goto pzeTv; CX1tW: $data["\x74\160\x5f\x61\143\164\151\166\x65"] = $this->dashboard->getTahunActive(); goto W3oO0; zYRDq: $this->load->view("\137\164\145\x6d\x70\x6c\141\x74\x65\x73\x2f\144\x61\163\x68\x62\x6f\141\162\x64\57\x5f\146\157\157\x74\x65\x72"); goto EYzSK; pCJDL: $user = $this->ion_auth->user()->row(); goto gNsmU; hdrB9: $data["\x74\160"] = $this->dashboard->getTahun(); goto CX1tW; W3oO0: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto ELzwA; pzeTv: $data["\x69\x6d\x70\157\162\x74"] = $import_data; goto cDP1s; ELzwA: $data["\x73\x6d\164\137\141\x63\x74\x69\x76\x65"] = $this->dashboard->getSemesterActive(); goto drkeX; Phjur: $this->load->view("\155\x61\163\164\145\162\57\152\x75\162\x75\163\141\156\57\151\x6d\160\157\x72\164"); goto zYRDq; EYzSK: } public function do_import() { goto RtteY; IRwrZ: thkDu: goto Foqz7; Ci9R5: foreach ($data as $j) { $jurusan[] = ["\x6e\141\155\x61\137\152\165\162\165\x73\x61\x6e" => $j->nama, "\153\x6f\x64\x65\137\152\x75\162\165\x73\141\156" => $j->kode]; FE70H: } goto IRwrZ; Foqz7: $save = $this->master->create("\x6d\x61\x73\x74\145\162\137\x6a\165\162\x75\x73\141\x6e", $jurusan, true); goto jnW3F; c3dZ4: $jurusan = []; goto Ci9R5; jnW3F: $this->output->set_content_type("\141\x70\160\x6c\x69\x63\x61\x74\x69\157\x6e\57\152\x73\x6f\x6e")->set_output($save); goto JmCcm; RtteY: $data = json_decode($this->input->post("\152\165\x72\165\x73\141\x6e", true)); goto c3dZ4; JmCcm: } function updateById() { goto RfMr1; whbHc: $this->db->set("\x6b\157\x64\x65\x5f\152\165\x72\x75\x73\x61\x6e", $kode); goto T_XoE; XiNe3: $nama = $this->input->post("\x75\163\145\162\x6e\141\155\x65", true); goto zcTKe; mA4ST: return $this->db->update("\155\x61\x73\164\145\x72\137\x6a\x75\162\x75\163\x61\x6e"); goto JLPrF; Lgm_4: $this->db->set("\x6e\x61\155\141\137\x6a\165\x72\x75\x73\x61\156", $nama); goto whbHc; zcTKe: $kode = $this->input->post("\x65\x6d\x61\x69\154", true); goto Lgm_4; T_XoE: $this->db->where("\x69\144\x5f\x6a\165\162\x75\163\141\x6e", $id); goto mA4ST; RfMr1: $id = $this->input->post("\151\144\x5f\x6a\165\x72\165\163\x61\x6e"); goto XiNe3; JLPrF: } public function hapusById() { goto VBIzs; VBIzs: $id = $this->input->post("\x69\144"); goto fQpS8; fQpS8: $this->db->where("\151\144\137\x6a\165\x72\x75\163\141\x6e", $id); goto GV8fU; GV8fU: return $this->db->delete("\x6d\141\163\x74\x65\x72\x5f\x6a\x75\x72\165\x73\x61\156"); goto th_Vq; th_Vq: } function exist($table, $data) { goto lQxUH; yTaC2: return false; goto nXbZd; Ze_a5: $count = $query->num_rows(); goto v0KJ9; lQxUH: $query = $this->db->get_where($table, $data); goto Ze_a5; YJ4W_: goto SS7nx; goto UpRx0; nXbZd: SS7nx: goto Q_ZfK; UpRx0: YtaKU: goto yTaC2; GwheC: return true; goto YJ4W_; v0KJ9: if ($count === 0) { goto YtaKU; } goto GwheC; Q_ZfK: } }
