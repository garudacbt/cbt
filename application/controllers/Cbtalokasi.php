<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto bQUh6; DjGJw: redirect("\141\x75\164\150"); goto ftbUX; jg7P0: goto euFKR; goto gVanJ; YrGp_: $this->load->library(["\144\x61\x74\x61\x74\x61\x62\154\145\x73", "\x66\x6f\x72\x6d\137\x76\x61\154\151\144\x61\x74\x69\157\156"]); goto KqPaQ; xV6Nj: Av9ov: goto jg7P0; rhXs3: show_error("\x48\141\x6e\x79\141\x20\101\144\x6d\151\156\151\x73\164\x72\x61\164\x6f\x72\x20\171\141\156\x67\x20\144\x69\x62\x65\162\x69\x20\150\x61\153\x20\x75\x6e\164\x75\153\x20\x6d\145\x6e\147\141\x6b\x73\145\163\40\150\x61\x6c\x61\x6d\x61\156\40\151\156\151\x2c\40\74\141\x20\150\162\x65\146\x3d\42" . base_url("\144\141\x73\x68\142\157\141\162\x64") . "\x22\x3e\113\x65\155\142\x61\154\151\x20\153\x65\x20\155\x65\x6e\x75\x20\x61\167\x61\x6c\74\57\141\76", 403, "\x41\x6b\x73\x65\x73\40\x54\x65\162\x6c\x61\x72\141\x6e\147"); goto xV6Nj; bQUh6: parent::__construct(); goto wwuvu; ftbUX: euFKR: goto YrGp_; apzEH: if ($this->ion_auth->is_admin()) { goto Av9ov; } goto rhXs3; KqPaQ: $this->form_validation->set_error_delimiters('', ''); goto kq2h0; gVanJ: mcyHE: goto DjGJw; wwuvu: if (!$this->ion_auth->logged_in()) { goto mcyHE; } goto apzEH; kq2h0: } public function output_json($data, $encode = true) { goto nGtH4; r0fQG: $data = json_encode($data); goto LpcDu; wLRCP: $this->output->set_content_type("\x61\x70\x70\154\151\x63\141\164\151\157\156\x2f\x6a\163\x6f\x6e")->set_output($data); goto lbSBj; nGtH4: if (!$encode) { goto zKW5A; } goto r0fQG; LpcDu: zKW5A: goto wLRCP; lbSBj: } public function index() { goto s7ue2; HCnPS: goto vV0Nm; goto IpdyO; xvJTB: if ($setting->jenjang == "\x33") { goto UnHpy; } goto SteTA; EeRS3: ahfxi: goto vvofx; G32mp: $jadwals = []; goto Hmpwu; UEqf0: $tp = $this->dashboard->getTahunActive(); goto WcCXd; n7XiK: if ($setting->jenjang == "\62") { goto GnCRp; } goto xvJTB; DDCuo: $data["\x74\160"] = $this->dashboard->getTahun(); goto g9fju; A3mBL: $data["\146\151\x6c\x74\145\x72"] = ["\60" => "\x53\145\155\165\141", "\61" => "\124\x61\x6e\147\x67\141\x6c"]; goto oJPbO; KFn5N: goto vV0Nm; goto N1xYQ; yW43Z: if ($setting->jenjang == "\x31") { goto ahfxi; } goto n7XiK; aNaSy: R0WGC: goto L2WIt; rivHS: $levels = ["\x30" => "\120\151\154\151\150\x20\114\x65\166\x65\x6c", "\x37" => "\67", "\70" => "\70", "\71" => "\71"]; goto KFn5N; UX50g: $this->load->view("\x63\x62\x74\x2f\141\x6c\157\x6b\x61\x73\151\x2f\144\x61\x74\141"); goto Sl3h1; lEaG_: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto Fz5mC; lnxgy: $data["\x72\165\141\156\x67"] = $this->dropdown->getAllRuang(); goto P1oHo; PHCyN: $setting = $this->dashboard->getSetting(); goto eG3AL; rgwkI: $dari_selected = $this->input->get("\144\x61\162\x69", true); goto HpmZz; fNmOx: $this->load->model("\x44\141\163\x68\x62\157\x61\162\144\x5f\155\157\x64\145\x6c", "\x64\141\x73\x68\x62\157\x61\x72\144"); goto NacN7; oJPbO: $data["\x6a\145\156\x69\163\137\x73\145\x6c\x65\143\x74\145\144"] = $jenis_selected; goto OMlqS; Na3vJ: $data["\160\x72\x6f\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto le53d; YpWBO: foreach ($jadwals as $key => $row) { goto buFIm; uW5T8: A2eWY: goto gMec4; Rn2yf: $ret[$row->tgl_mulai] = []; goto hXRjR; djLwy: HLdpJ: goto ZRQyx; gMec4: array_push($ret[$row->tgl_mulai], $row); goto djLwy; hXRjR: array_push($ret[$row->tgl_mulai], $row); goto kqHV2; kqHV2: goto HLdpJ; goto uW5T8; ZRQyx: skq_i: goto R58j4; buFIm: if (isset($ret[$row->tgl_mulai])) { goto A2eWY; } goto Rn2yf; R58j4: } goto aNaSy; cOvWG: $data["\152\145\x6e\151\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto THArm; PxwJJ: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); UQH2w: } goto d36bw; d36bw: gCbew: goto tQvIs; OMlqS: $data["\x6c\145\166\145\154\137\163\145\154\145\x63\164\145\x64"] = $level_selected; goto Y3Zej; THArm: yNJpH: goto CT28Z; IpdyO: GnCRp: goto rivHS; xgoxx: $data["\152\x65\156\x69\x73"] = ['' => "\142\x65\x6c\165\155\x20\141\144\x61\x20\x6a\x61\144\167\x61\x6c\x20\x75\152\151\x61\x6e"]; goto fMLUy; Qrvip: $ret = []; goto YpWBO; tQvIs: Y3bkU: goto i2Orf; o73qR: cvoV3: goto CFlpd; JDdON: $data["\x6c\145\166\x65\x6c\x73"] = $levels; goto Qrvip; N1xYQ: UnHpy: goto WvLU3; NacN7: $this->load->model("\x43\142\164\137\155\157\x64\x65\x6c", "\143\x62\x74"); goto eS_Hx; g9fju: $data["\164\160\137\x61\x63\x74\151\x76\145"] = $tp; goto xnZAz; CFlpd: $data["\153\145\154\141\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto lnxgy; Sl3h1: $this->load->view("\x5f\x74\145\x6d\160\154\x61\164\145\x73\57\144\141\x73\150\x62\x6f\141\162\x64\57\x5f\x66\x6f\x6f\x74\x65\x72"); goto zTDFV; jxkKp: $filter_selected = $this->input->get("\146\x69\154\x74\145\162", true); goto rgwkI; WcCXd: $smt = $this->dashboard->getSemesterActive(); goto DDCuo; Fz5mC: $ids = []; goto J7ew8; fMLUy: goto yNJpH; goto Sj6eQ; k_OPI: $data["\x73\x61\155\160\141\151\x5f\x73\x65\154\145\143\164\145\144"] = $sampai_selected; goto G32mp; WvLU3: $levels = ["\x30" => "\x50\x69\154\x69\150\40\x4c\145\166\x65\x6c", "\61\60" => "\x31\x30", "\x31\x31" => "\61\61", "\x31\x32" => "\x31\62"]; goto JKyAO; SteTA: goto vV0Nm; goto EeRS3; J7ew8: if (!($id_jenis && count($id_jenis) > 0)) { goto Y3bkU; } goto PxwJJ; P1oHo: $levels = []; goto yW43Z; le53d: $this->load->view("\137\164\145\x6d\160\154\141\x74\145\x73\x2f\x64\x61\x73\150\x62\x6f\x61\162\x64\57\x5f\150\145\141\144\145\x72", $data); goto UX50g; eS_Hx: $user = $this->ion_auth->user()->row(); goto PHCyN; zABxJ: $data["\163\155\164\137\x61\x63\x74\x69\x76\x65"] = $smt; goto lEaG_; Y3Zej: $data["\x66\x69\x6c\x74\x65\162\137\163\145\x6c\x65\143\x74\145\144"] = $filter_selected; goto SIi8L; eG3AL: $data = ["\165\x73\145\162" => $user, "\x6a\165\144\165\x6c" => "\x41\x6c\x6f\153\141\x73\151\x20\x57\x61\153\x74\165", "\163\165\142\152\x75\x64\x75\154" => "\101\154\157\153\x61\x73\151\40\x57\x61\x6b\x74\165\x20\x55\x6a\151\141\x6e", "\163\x65\164\164\x69\x6e\147" => $setting]; goto UEqf0; JKyAO: vV0Nm: goto JDdON; SIi8L: $data["\x64\141\162\x69\137\x73\x65\x6c\x65\143\164\x65\x64"] = $dari_selected; goto k_OPI; s7ue2: $this->load->model("\104\162\157\160\x64\157\x77\156\x5f\155\157\x64\x65\x6c", "\x64\162\x6f\160\x64\157\x77\156"); goto fNmOx; Hmpwu: if (!($jenis_selected != null && $level_selected != null)) { goto cvoV3; } goto OWUqm; CT28Z: $jenis_selected = $this->input->get("\152\x65\x6e\x69\x73", true); goto FH2x2; HpmZz: $sampai_selected = $this->input->get("\x73\x61\155\160\x61\151", true); goto A3mBL; OWUqm: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto o73qR; i2Orf: if ($ids && count($ids) > 0) { goto m2evH; } goto xgoxx; L2WIt: $data["\152\x61\x64\x77\141\x6c\163"] = $jadwals; goto Na3vJ; FH2x2: $level_selected = $this->input->get("\x6c\x65\x76\145\154", true); goto jxkKp; Sj6eQ: m2evH: goto cOvWG; vvofx: $levels = ["\x30" => "\120\x69\154\x69\150\40\x4c\x65\x76\145\154", "\61" => "\x31", "\62" => "\x32", "\x33" => "\63", "\64" => "\x34", "\x35" => "\x35", "\x36" => "\66"]; goto HCnPS; xnZAz: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto zABxJ; zTDFV: } public function saveAlokasi() { goto vdtpL; dl918: vIYz3: goto Gdv6I; Gdv6I: $update = $this->db->update_batch("\x63\x62\164\137\x6a\141\x64\167\x61\154", $insert, "\x69\x64\x5f\x6a\x61\x64\x77\x61\x6c"); goto ZR7ri; CIRva: $insert = []; goto PGaec; vdtpL: $input = json_decode($this->input->post("\141\x6c\x6f\x6b\141\x73\x69", true)); goto CIRva; PGaec: foreach ($input as $d) { goto BkHIV; DgfQB: uzTli: goto OntJR; cmFvz: array_push($insert, ["\x69\x64\137\152\141\144\167\x61\x6c" => $d->id_jadwal, "\152\141\x6d\x5f\x6b\145" => $d->jam_ke]); goto DgfQB; OntJR: CF8x8: goto zVEiF; BkHIV: if (!($d->id_jadwal != "\60")) { goto uzTli; } goto cmFvz; zVEiF: } goto dl918; ysmMf: $this->output_json($data); goto S61sj; ZR7ri: $data["\x73\x74\x61\x74\165\x73"] = $update; goto ysmMf; S61sj: } }
