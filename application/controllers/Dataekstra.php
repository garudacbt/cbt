<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\x41\123\105\120\x41\x54\x48") or exit("\116\x6f\x20\x64\x69\x72\x65\x63\164\40\x73\143\162\151\x70\x74\x20\x61\x63\143\145\x73\163\x20\141\x6c\154\157\167\145\x64"); class Dataekstra extends CI_Controller { public function __construct() { goto QVp5X; X79Uh: show_error("\x48\x61\x6e\x79\141\x20\x41\144\155\x69\156\x69\x73\x74\x72\x61\164\x6f\x72\x20\x79\x61\156\x67\40\x64\151\142\145\x72\x69\x20\150\x61\153\x20\165\156\164\x75\153\x20\x6d\x65\x6e\147\x61\153\163\x65\x73\x20\x68\x61\154\x61\155\x61\x6e\x20\151\x6e\x69\x2c\x20\74\141\x20\150\x72\145\x66\75\42" . base_url("\144\x61\163\x68\x62\x6f\141\x72\144") . "\x22\x3e\x4b\145\x6d\142\x61\154\151\40\x6b\145\40\155\145\x6e\165\40\x61\x77\x61\x6c\x3c\57\141\76", 403, "\x41\x6b\163\x65\x73\40\124\145\162\x6c\141\162\141\x6e\x67"); goto GTJZx; J0TKD: redirect("\x61\x75\x74\150"); goto ryjFo; GTJZx: GlKbk: goto dOloH; keuZy: if ($this->ion_auth->is_admin()) { goto GlKbk; } goto X79Uh; dOloH: goto mVXJu; goto SJxpK; XE2R_: $this->form_validation->set_error_delimiters('', ''); goto fUJMk; QVp5X: parent::__construct(); goto YBaZD; SJxpK: r6PaT: goto J0TKD; L8bqQ: $this->load->model("\115\141\163\x74\x65\162\137\x6d\x6f\144\x65\x6c", "\155\141\163\164\145\x72"); goto khLfH; ryjFo: mVXJu: goto OWX05; a1w2W: $this->load->model("\x44\162\x6f\160\x64\157\167\156\x5f\155\157\x64\145\154", "\x64\x72\x6f\160\x64\157\x77\156"); goto xELC5; khLfH: $this->load->model("\x44\141\163\x68\x62\x6f\141\x72\x64\x5f\155\x6f\144\x65\x6c", "\144\141\x73\150\142\x6f\141\162\x64"); goto a1w2W; YBaZD: if (!$this->ion_auth->logged_in()) { goto r6PaT; } goto keuZy; OWX05: $this->load->library(["\x64\141\164\141\164\141\x62\154\x65\x73", "\x66\x6f\162\x6d\x5f\x76\141\x6c\x69\144\x61\x74\151\157\x6e"]); goto L8bqQ; xELC5: $this->load->model("\x4b\x65\x6c\x61\x73\x5f\155\157\x64\x65\x6c", "\x6b\145\154\141\163"); goto XE2R_; fUJMk: } public function output_json($data, $encode = true) { goto ZGjXC; ZGjXC: if (!$encode) { goto GoIug; } goto rQFNL; NyzSX: $this->output->set_content_type("\141\160\160\154\x69\x63\x61\x74\x69\157\156\57\152\163\157\156")->set_output($data); goto ur0xl; SRdHe: GoIug: goto NyzSX; rQFNL: $data = json_encode($data); goto SRdHe; ur0xl: } public function index() { goto PTmhK; CK7_7: $data["\x6b\145\x6c\x61\x73"] = $kelas; goto OD0cn; PTmhK: $user = $this->ion_auth->user()->row(); goto To5B2; lOiO_: $this->load->view("\155\141\163\x74\145\162\x2f\145\153\x73\164\x72\x61\57\144\x61\164\x61"); goto GYkim; R38lz: $data["\x74\x70"] = $this->dashboard->getTahun(); goto EN7_E; qdqrP: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto DL0HF; EN7_E: $data["\x74\x70\137\141\143\164\151\166\x65"] = $tp; goto qdqrP; oxWpJ: $data["\x65\153\x73\x6b\165\154\137\153\x65\x6c\141\163"] = $kelasEks; goto CK7_7; DL0HF: $data["\163\155\164\x5f\141\x63\x74\x69\x76\x65"] = $smt; goto LtVpv; tLCZm: h3FcY: goto oxWpJ; FwvaK: $this->load->view("\137\x74\145\x6d\160\x6c\141\x74\x65\x73\57\144\x61\163\150\x62\x6f\141\162\144\57\137\x68\x65\x61\144\x65\162", $data); goto lOiO_; J9m2e: $kelas = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto d6_1D; LtVpv: $data["\x65\x6b\163\x6b\165\x6c"] = $this->dropdown->getAllEkskul(); goto J9m2e; DGRtq: foreach ($kelas as $key => $kls) { $kelasEks[$key] = $this->kelas->getKelasEkskul($key, $tp->id_tp, $smt->id_smt); q10bX: } goto tLCZm; aQFvF: $tp = $this->dashboard->getTahunActive(); goto pATgS; OD0cn: $data["\160\145\155\x62\x69\x6d\142\151\156\147"] = $this->dropdown->getAllGuru(); goto FwvaK; pATgS: $smt = $this->dashboard->getSemesterActive(); goto R38lz; d6_1D: $kelasEks = []; goto DGRtq; To5B2: $data = ["\165\x73\145\162" => $user, "\x6a\x75\x64\165\154" => "\x45\x6b\163\x74\x72\x61\153\x75\162\x69\x6b\165\154\x65\x72", "\163\x75\142\152\165\x64\165\154" => "\104\x61\164\141\40\x4d\141\x74\141\x20\x50\x65\154\141\152\x61\162\x61\x6e", "\160\x72\157\146\x69\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto aQFvF; GYkim: $this->load->view("\137\164\145\155\160\154\x61\x74\x65\163\57\144\141\x73\150\142\x6f\141\x72\144\57\x5f\x66\x6f\x6f\164\x65\x72"); goto Z8fy1; Z8fy1: } public function create() { goto OdNAE; tnmPT: $data = $this->master->create("\155\x61\163\x74\x65\162\x5f\145\153\x73\164\162\x61", $insert); goto DNEe8; OdNAE: $insert = ["\x6e\x61\155\141\x5f\145\153\163\164\162\141" => $this->input->post("\156\141\155\141\137\145\x6b\163\x74\162\x61", true), "\153\157\x64\x65\137\x65\x6b\x73\164\x72\x61" => $this->input->post("\x6b\x6f\x64\x65\x5f\x65\x6b\x73\x74\162\141", true)]; goto tnmPT; DNEe8: $this->output->set_content_type("\141\x70\x70\154\x69\143\x61\x74\151\157\x6e\57\152\x73\x6f\x6e")->set_output($data); goto EGghU; EGghU: } public function read() { goto uaGU5; uaGU5: $this->datatables->select("\52"); goto iYbWT; iYbWT: $this->datatables->from("\x6d\x61\163\x74\145\162\137\145\x6b\163\164\162\x61"); goto kdnIQ; kdnIQ: echo $this->datatables->generate(); goto AnnJO; AnnJO: } public function update() { $data = $this->master->updateEkstra(); $this->output->set_content_type("\x61\160\x70\x6c\x69\x63\141\164\x69\x6f\156\57\152\163\x6f\x6e")->set_output($data); } public function delete($id) { goto IcNHg; yn2nj: foreach ($tabless as $table) { goto XXt71; K5iQt: YvFXJ: goto UFhbk; I2JNC: foreach ($fields as $field) { goto n161D; PRueW: d9dyw: goto gBwEo; n161D: if (!($field->name == "\x69\x64\x5f\145\153\163\x74\162\x61" || $field->name == "\x65\153\163\x74\162\x61\137\x69\144")) { goto G7NS8; } goto KojnN; KojnN: array_push($tables, $table); goto IYRVq; IYRVq: G7NS8: goto PRueW; gBwEo: } goto zRIHm; zRIHm: qTHHN: goto K5iQt; XXt71: $fields = $this->db->field_data($table); goto I2JNC; UFhbk: } goto V4yAs; k9Vj7: if ($this->master->delete("\x6d\141\163\164\145\162\x5f\x65\153\163\x74\x72\x61", [$id], "\151\x64\137\x65\153\163\x74\x72\x61")) { goto QJfNS; } goto H2EK8; l8nJe: $tabless = $this->db->list_tables(); goto yn2nj; wBalO: Rxhj0: goto FjtMf; SdJhB: $tables = []; goto l8nJe; N84dG: $this->output_json($tables); goto Vb0wp; NacOV: goto e38nm; goto FWY9q; Vb0wp: foreach ($tables as $table) { goto ZReUE; lpvpy: if (!($num > 0)) { goto xT8Xr; } goto CE4_7; ZReUE: if (!($table != "\x6d\141\163\x74\145\162\x5f\x65\x6b\x73\164\162\141")) { goto raFMI; } goto jq17C; sl6dD: $num = $this->db->count_all_results($table); goto lpvpy; myKxL: e7tVc: goto g7osx; jq17C: $this->db->where("\x69\144\137\145\153\163\164\162\x61", $id); goto sl6dD; CE4_7: array_push($messages, $table); goto hzBsE; GHVRj: raFMI: goto myKxL; hzBsE: xT8Xr: goto GHVRj; g7osx: } goto wBalO; mI6Y7: goto ZkqMb; goto HEg__; IcNHg: $messages = []; goto SdJhB; KZ0qZ: ZkqMb: goto fwXoL; FjtMf: if ($messages && count($messages) > 0) { goto DTg5C; } goto k9Vj7; H2EK8: $this->output_json(["\x73\164\141\x74\165\x73" => false, "\155\145\163\163\141\x67\145" => "\105\x6b\163\153\x75\154\x20\x67\141\147\x61\154\x20\x64\151\x68\141\x70\x75\163"]); goto NacOV; HEg__: DTg5C: goto sE9Fj; V4yAs: mj9Qk: goto N84dG; yjsd1: e38nm: goto mI6Y7; FWY9q: QJfNS: goto ZBF7a; ZBF7a: $this->output_json(["\x73\164\141\x74\165\x73" => true, "\x6d\x65\163\x73\141\147\x65" => "\x45\153\163\153\x75\x6c\x20\142\x65\x72\x68\x61\x73\151\x6c\x20\144\151\150\x61\x70\165\163"]); goto yjsd1; sE9Fj: $this->output_json(["\163\164\x61\164\x75\x73" => false, "\164\157\164\x61\154" => "\115\x61\x70\145\x6c\40\x64\x69\147\x75\156\x61\153\x61\156\x20\x64\151\40" . count($messages) . "\40\x74\x61\142\145\154\x3a\x3c\142\x72\76" . implode("\74\x62\x72\x3e", $messages)]); goto KZ0qZ; fwXoL: } public function save() { goto yOPzc; sYWXC: D6O1G: goto SY7de; UX4T5: $update = []; goto ueKUz; ehiv0: $row_insert = 0; goto UX4T5; ueKUz: foreach ($check_kelas as $key => $kls) { goto dBTNf; CML2_: $ekstra[] = ["\145\153\x73\164\162\141" => $kelaseks]; goto re4dQ; xpA_x: dPaw_: goto Z33dW; dgeq1: $ekstras = ["\151\144\137\x6b\x65\154\141\x73\x5f\x65\x6b\163\164\162\141" => $kls->kls_id . $tp . $smt, "\151\144\x5f\153\x65\154\x61\163" => $kls->kls_id, "\151\x64\x5f\x74\160" => $tp, "\x69\x64\x5f\163\155\x74" => $smt, "\145\153\x73\164\x72\141" => serialize($ekstra)]; goto gywOt; KNoxx: $j = 0; goto nxoLn; X3ojz: S1CPd: goto dgeq1; TKi2O: if (!($j <= $row_ekskul)) { goto S1CPd; } goto JmWKt; re4dQ: Gps9p: goto Z7R4L; eQbRX: $row_ekskul = count($this->input->post("\145\x6b\x73\x6b\165\154" . $kls->kls_id, true)); goto w4RYy; vC7RA: goto kxoPB; goto X3ojz; nxoLn: kxoPB: goto TKi2O; JmWKt: $kelaseks = $this->input->post("\145\x6b\x73\x6b\x75\x6c" . $kls->kls_id . "\x5b" . $j . "\135", true); goto CML2_; w4RYy: $ekstra = []; goto KNoxx; gywOt: $update[] = $this->db->replace("\x6b\x65\x6c\x61\163\x5f\x65\153\x73\x74\x72\x61", $ekstras); goto xpA_x; aEdYm: if (!$check_ekskul) { goto dPaw_; } goto eQbRX; Z33dW: miKT7: goto xvpmA; Z7R4L: $j++; goto vC7RA; dBTNf: $check_ekskul = $this->input->post("\x65\153\x73\x6b\x75\x6c" . $kls->kls_id, true); goto aEdYm; xvpmA: } goto sYWXC; NpW85: $smt = $this->master->getSemesterActive()->id_smt; goto ehiv0; jcZAP: $this->output_json($res); goto hO_C_; ShCt1: $tp = $this->master->getTahunActive()->id_tp; goto NpW85; yOPzc: $check_kelas = json_decode(json_encode(json_decode($this->input->post("\153\145\x6c\141\x73", true)))); goto ShCt1; Qmbl2: $res["\165\x70\144\x61\x74\145"] = $update; goto jcZAP; SY7de: $res["\x73\164\141\x74\165\x73"] = true; goto Qmbl2; hO_C_: } public function import($import_data = null) { goto gevB1; aaGkV: $this->load->view("\x6d\141\x73\164\x65\162\57\x65\153\163\164\x72\141\x2f\x69\155\x70\157\x72\164"); goto se2Hz; Yoa2u: $this->load->view("\137\164\145\x6d\x70\x6c\141\x74\x65\163\x2f\x64\141\x73\x68\142\157\141\x72\144\x2f\x5f\150\145\141\144\x65\162", $data); goto aaGkV; qg6NF: $data = ["\x75\163\x65\x72" => $user, "\152\x75\144\x75\x6c" => "\115\x61\x74\141\x20\x50\x65\154\141\x6a\x61\162\x61\x6e", "\163\165\x62\152\165\144\165\154" => "\111\155\160\157\x72\164\x20\x4d\x61\164\x61\x20\120\145\154\141\x6a\x61\162\141\x6e", "\x70\162\157\146\151\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\x74\x74\151\156\147" => $this->dashboard->getSetting()]; goto xbKPr; nVKl2: $data["\164\160"] = $this->dashboard->getTahun(); goto t1gxx; VZn_Q: nWMQn: goto nVKl2; t1gxx: $data["\x74\160\137\x61\x63\164\151\x76\x65"] = $this->dashboard->getTahunActive(); goto xYEt_; ta1mn: $data["\x69\x6d\160\x6f\x72\164"] = $import_data; goto VZn_Q; gevB1: $user = $this->ion_auth->user()->row(); goto qg6NF; xYEt_: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto RYqMl; se2Hz: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\164\x65\x73\57\x64\x61\x73\150\x62\x6f\x61\162\144\x2f\137\x66\x6f\157\x74\145\162"); goto SqS1s; RYqMl: $data["\163\155\164\137\141\x63\164\151\166\145"] = $this->dashboard->getSemesterActive(); goto Yoa2u; xbKPr: if (!($import_data != null)) { goto nWMQn; } goto ta1mn; SqS1s: } }
